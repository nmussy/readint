<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>readint by nmussy</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/demo.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>readint</h1>
        <h2 id="version"></h2>
        <p>A JavaScript library and Node module for localized written number parsing.</p>

        <p class="view"><a href="https://github.com/nmussy/readint">View the Project on GitHub <small>nmussy/readint</small></a></p>


        <ul>
          <li><a href="https://github.com/nmussy/readint/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/nmussy/readint/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/nmussy/readint">View On <strong>GitHub</strong></a></li>
        </ul>
        <p><a href="http://nmussy.github.io">My other projects</a></p>
      </header>
      <section>
        <h1>Demo</h1>
          <h3>You can start to type a number, or choose one of the examples. You can also change the input language by clicking on its icon.</h3>
          <input type="text" id="demo-input" />
          <span id="demo-output"></span>
          <div id="demo-locales">
            <span id="en-selector" title="English" class="locale-selector selected" data-locale="en"></span>
            <span id="fr-selector" title="French" class="locale-selector" data-locale="fr"></span>
            <span id="es-selector" title="Spanish" class="locale-selector" data-locale="es"></span>
            <span id="de-selector" title="German" class="locale-selector" data-locale="de"></span>
          </div>
          <div id="demo-examples">
          </div>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/nmussy">nmussy</a></p>
        <a href="https://twitter.com/nmussy" class="twitter-follow-button" data-show-count="false">Follow @nmussy</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="lib/readint-0.2.2.min.js"></script>
    <script src="lib/jquery-2.0.3.min.js"></script>
    <script src="javascripts/scale.fix.js"></script>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-41570175-1");
        pageTracker._trackPageview();
        } catch(err) {}
    </script>
    <script type="text/javascript">
      var examples = {
        "en": [ 'two', 'fifty six', 'a hundred', 'eleven', 'six thousand nine hundred and five', 'seven', 'nine hundred and ninety nine', 'eighteen hundred', 'million', 'three hundred thirty eight', 'nine thousand four hundred forty nine', 'three', 'twenty two', 'five hundred and eight', 'twenty one', 'eighty two thousand and eight'],
        "fr": [ 'deux', 'soixante-six', 'cent', 'onze', 'six mille neuf cent cinq', 'sept', 'neuf-cent-quatre-vingt-dix-neuf', 'dix-huit mille', 'un million', 'trois cent trente huit', 'neuf mille quatre cent quarante neuf', 'trois', 'vingt-deux', 'cinq cent huit', 'vingt-et-un', 'octante deux mille nonante trois'],
        "es": [ 'dos', 'sesenta y seis', 'ciento', 'once', 'seis mil novecientos y cinco', 'siete', 'ovecientos noventa y nueve', 'dieciocho mil', 'un millón', 'trescientos treinta y ocho', 'nueve mil cuatrocientos cuarenta nueve', 'tres', 'veintidós', 'quinientos y ocho', 'veintiuno', 'ochenta y dos mil noventa tres'],
        "de": [ 'zwei', 'sechsundfünfzig', 'einhundert', 'elf', 'sechstausendneunhundertneunundneunzigfünf', 'sieben', 'neunhundertneunundneunzig', 'achtzehnhundert', 'eine Million', 'dreihundertachtunddreißig', 'neuntausendvierhundertneunundvierzig', 'drei', 'zweiundzwanzig', 'fünfhundertacht', 'eineundzwanzig', 'zweiundachtzigtausendacht']}
      $(document).ready(function() {
        $.get('https://api.github.com/repos/nmussy/readint/tags', function(data) { 
          $('#version').html('Version ' + data[0].name);
        });

        shuffle(examples.en).forEach(function (el) {
            $('#demo-examples').append('<span class="ex" style="font-size:' + Math.floor(Math.random() * (40 - 14 + 1) + 14) + 'px; font-weight:' + 
                    Math.floor(Math.random() * (9 - 1 + 1) + 1) + '00">' + el + '</span> ');
        });

        $('#demo-input').focus().on('input', function() {
          if($('#demo-input').val().length == 0) {
            $('#demo-output').fadeOut(200, function() {
              $(this).html('').show();
            });
            return;
          }
          var intval = readint($('#demo-input').val(), $('#demo-locales').children('.selected').attr('data-locale'));
          if(intval != -1 && intval != $('#demo-output').html().replace(/\s,/g, ''))
            $('#demo-output').fadeOut(200, function() {
              $('#demo-output').html('');
              intval = new String(intval).split(/(?=(?:...)*$)/);
              if($('#demo-locales').children('.selected').attr('data-locale') == 'en' || $('#demo-locales').children('.selected').attr('data-locale') == 'de')
                var separator = ',';
              else
                var separator = ' ';

              for(var i = 0; i < intval.length; ++i)
                $('#demo-output').html($('#demo-output').html() + separator + intval[i]);

              $('#demo-output').html($('#demo-output').html().substr(1, $('#demo-output').html().length));
              $('#demo-output').fadeIn(200);
            });
          else if(intval == -1)
            $('#demo-output').fadeOut(200, function() {
              $(this).html('').show();
            });
            return;
        });

        $('#demo-locales').on('click', '.locale-selector:not(.selected)', function() {

          $('#demo-locales').children('.selected').removeClass('selected');
          $(this).addClass('selected');
          $('#demo-input').focus().trigger('input');
          $('#demo-examples').fadeOut(200, function() {
            $('#demo-examples').empty();
            shuffle(examples[$('#demo-locales').children('.selected').attr('data-locale')]).forEach(function (el) {
                $('#demo-examples').append('<span class="ex" style="font-size:' + Math.floor(Math.random() * (40 - 14 + 1) + 14) + 'px; font-weight:' + 
                        Math.floor(Math.random() * (9 - 1 + 1) + 1) + '00">' + el + '</span> ');
            });
            $('#demo-examples').fadeIn(200);
          });
        });

        $('#demo-examples').on('click', '.ex', function() {
          $('#demo-input').val($(this).html()).trigger('input');
        })
      });
    
    function shuffle(array) {
      var m = array.length, t, i;
      while (m) {
        i = Math.floor(Math.random() * m--);
        t = array[m];
        array[m] = array[i];
        array[i] = t;
      }
      return array;
    }
    </script>

  </body>
</html>
